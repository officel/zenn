---
title: "azure cli で一番短いタイプ数のコマンド"
emoji: "💻"
type: "tech" # tech or idea
topics: ["azure", "cli", "taskfile", "go-task", "taskfile.dev"]
published: true
---

# tl;dr

- aws cli で一番短いコマンドは `aws s3 ls` （動作確認も兼ねてよく叩いた）
- azure cli では？と ChatGPT に聞いたら `az group list` だと言われた
- `az vm list` や `az ts list` のほうが短い
- 自前の alias `az su` （`az account list -p table`）が短くてわかりやすいので優勝
- az alias を export して import するタスクを書いた

# はじまり

- `aws s3 ls` は aws cli を使う上で一番タイプ数が少なく動作確認にもってこいのコマンドである
- azure cli ではどうかと思って ChatGPT に聞いたら `az group list` だと言われた
- `az -h` から始まってちょっと調べてみたところ `az vm list` や `az ts list` が短くて良さそう
- もっともサブスクリプション内にリソースがないと `[]` になってしまうのでいまいちではある

@[tweet](https://x.com/raki/status/2021553441093669311)

# az alias

- 検討中に `az alias` の存在を思い出した
- `az su` って alias を作ってあったので優勝だなって

@[tweet](https://x.com/raki/status/2021555677840457756)

# dotfiles

- そういえば azure 系のファイルを dotfiles で管理していないことに思い至った
- `~/.azure/` を見てみたところ git で管理したいディレクトリじゃないなって
- いったん alias だけ export/import できるように taskfile にした

@[card](https://github.com/officel/dotfiles/pull/31/changes)

# 今後

- az のコマンドをマークダウンにまとめてるんだけど、よく使う分について整理したいなって
- extension の管理も同期しないと
- bash function にしている分を jinja で alias にできるんじゃないかを調査する
- 本当は Azure RBAC を簡単に調査、適切な Role を探しやすくするシェルを書いてたんだけど、行き詰まったので気分転換にこれを書いたので続きを。。。ｗ
