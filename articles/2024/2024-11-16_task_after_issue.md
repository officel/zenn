---
title: "go-task ã«ä»¥å‰æŒ™ã’ãŸèª²é¡Œã®ãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ©ã‚¦ãƒ³ãƒ‰"
emoji: "ğŸ› ï¸"
type: "tech"  # tech or idea
topics: ["taskfile","task","go-task","taskfiledev"]
published: true
---

# tl;dr

- ä»¥å‰[go-task ã« issue ã‚’ã‚ã’ãŸ](https://zenn.dev/raki/articles/2024-09-23_task_issue)ã‚’æ›¸ã„ãŸ
- EXIT_CODE ãŒæœŸå¾…é€šã‚Šã«æ¸¡ã‚‰ãªã„ã®ã¯ã“ã®éš›ã‚‚ã†ã„ã„
- å…ƒã®èª²é¡Œã¯[taskfile.dev ã®ãƒ¡ãƒ¢](https://zenn.dev/raki/scraps/b076f624777be2#comment-7d0ee3b5f2f6fb)ã«æ›¸ã„ãŸ `defer` ã«å¤‰æ•°ãŒæ¸¡ã›ãªã„ã¨ã„ã†ã“ã¨
- ãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ©ã‚¦ãƒ³ãƒ‰ã£ã¦ã»ã©ã§ã‚‚ãªã„ã‘ã©å›é¿ç­–ã¨ã—ã¦ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã‚’ä¸Šæ›¸ãã™ã‚‹æ–¹æ³•ã«ã—ãŸ

# å…ƒã®èª²é¡Œã«ã¤ã„ã¦

- task v3.39.0 ä»¥é™ã€defer ã¾ã‚ã‚Šã®ä»•æ§˜ãŒå¤‰ã‚ã£ã¦ã—ã¾ã£ãŸ
- EXIT_CODE ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ãŸãŸã‚ã€ã¨ã„ã†ã“ã¨ã«ãªã£ã¦ã„ã‚‹ãŒã€EXIT_CODE è‡ªä½“ã‚‚ ignore_errors ãŒæœ‰åŠ¹ã ã¨æ¶ˆãˆã¦ã—ã¾ã†
- é–¢é€£ã—ã¦æ¶ˆãˆã¦ã—ã¾ã£ãŸæ©Ÿèƒ½ã¨ã—ã¦ã€defer ã§å‘¼ã³å‡ºã™ã‚¿ã‚¹ã‚¯ã« vars ã‚’ã¤ã‘ã‚‹ã“ã¨ãŒã§ããªããªã£ãŸ
- è¤‡æ•°ã®ã‚¿ã‚¹ã‚¯ã‹ã‚‰å‘¼ã³å‡ºã•ã‚Œã‚‹ãŸã‚ã€å‘¼ã³å‡ºã—å…ƒã®ã‚¿ã‚¹ã‚¯ã§å€‹åˆ¥ã«å¤‰æ•°ã‚’æ¸¡ã—ã¦ã„ãŸãŒã€ä½¿ãˆãªããªã£ã¦ã—ã¾ã£ãŸã®ã§ã€å€¤ãŒå‚ç…§ã§ããšã€å‡¦ç†ãŒã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã—ã¾ã†
- json schema çš„ã«ã¯ã„ã‘ã¦ã„ãŸã¯ãšãªã®ã§ã™ãç›´ã‚‹ã®ã‹ãªã¨æ€ã£ã¦ã„ãŸï¼ˆãŒã€ç›´ã‚‰ãªã„ã‚ˆã†ã ï¼‰

# ãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ©ã‚¦ãƒ³ãƒ‰

- ã‚¿ã‚¹ã‚¯ã‹ã‚‰ defer ã§å¤‰æ•°ãŒæ¸¡ã›ãªã„ãªã‚‰ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã«ã™ã‚Œã°ã„ã„ã˜ã‚ƒãªã„
- ã‚¿ã‚¹ã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚°ãƒ­ãƒ¼ãƒãƒ« `vars` ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å¤‰æ•°ã‚’å…¥ã‚Œã‚‹
- defer ã‹ã‚‰ã¯ vars ã‚’æ¶ˆã™
- defer ã‚’å‘¼ã³å‡ºã—ã¦ã„ã‚‹ã‚¿ã‚¹ã‚¯ä¸­ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å¤‰æ•°ã‚’ä¸Šæ›¸ãã™ã‚‹

@[card](https://github.com/officel/zenn/pull/172/files#diff-cd2d359855d0301ce190f1ec3b4c572ea690c83747f6df61c9340720e3d2425eR6)

- ã¡ãªã¿ã«ä»•æ§˜çš„ã«ã¯ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚’ç½®ã‹ãªãã¦ã‚‚è¦ªã‚¿ã‚¹ã‚¯ãŒå®£è¨€ã—ã¦ã„ã‚‹ã¨ä¼æ¬ã™ã‚‹ã®ã§å¤§ä¸ˆå¤«ã‚‰ã—ã„
- ï¼ˆè¦ªã‚¿ã‚¹ã‚¯ã®å®£è¨€å¿˜ã‚ŒãŒã‚ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã®ã§æ›¸ãã“ã¨ã«ã—ã¦ã„ã‚‹ï¼‰

# task ã«ã¤ã„ã¦

- GNU Make ã®ä»£æ›¿ã¨ã—ã¦ task ã‚’ä½¿ã†ã“ã¨ã«ã—ãŸã€€-> [ãƒ¢ãƒ€ãƒ³ãªã‚¿ã‚¹ã‚¯ãƒ©ãƒ³ãƒŠãƒ¼ã‚’æ±‚ã‚ã¦ task (taskfile.dev) ã‚’ä½¿ã†ã¾ã§ã®è»Œè·¡](https://zenn.dev/raki/articles/2024-05-30_task_runner)
- ãƒ™ã‚¿æ›¸ãã—ã¦ã„ã‚‹æ™‚ã¯ãã‚“ãªã«å•é¡Œãªã„
- ã¡ã‚‡ã£ã¨å·¥å¤«ã—ã‚ˆã†ã‹ãªã£ã¦æ™‚ã«ã€ã¡ã‚‡ã„ã¡ã‚‡ã„å•é¡Œã«å½“ãŸã‚‹
- [task runner go-task(taskfile.dev) ã® Advent Calendar ã‚’ã‚„ã‚Šã¾ã›ã‚“ã‹](https://zenn.dev/raki/articles/2024-11-09_go-task_adcal)

@[card](https://qiita.com/advent-calendar/2024/go-task)
